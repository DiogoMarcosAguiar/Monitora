<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MONITORA - Sistema de Passos</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #4B0082; /* Fundo roxo */
      color: white;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      text-align: center;
    }

    .logo {
      font-size: 48px;
      font-weight: bold;
      margin-bottom: 30px;
      animation: fadeIn 2s ease;
    }

    #stepBox {
      background-color: #6A0DAD;
      border-radius: 20px;
      padding: 40px;
      max-width: 600px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.4);
      animation: fadeInStep 0.5s ease;
    }

    #stepText {
      font-size: 24px;
      margin-bottom: 20px;
      min-height: 100px;
      transition: opacity 0.5s ease;
    }

    button {
      background-color: #4169E1;
      color: white;
      border: none;
      padding: 15px 30px;
      margin: 10px;
      border-radius: 10px;
      font-size: 18px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    button:hover {
      background-color: #3151b5;
    }

    .timer {
      margin-top: 20px;
      font-size: 16px;
    }

    .logo-icon {
  background-color: #001F54;
  color: white;
  font-size: 36px;
  font-weight: bold;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);
  margin-bottom: 10px;
  animation: fadeIn 1.5s ease;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.logo-text {
  font-size: 40px;
  font-weight: bold;
  animation: fadeIn 2s ease;
}

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(-20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeInStep {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
    }
  </style>
</head>
<body>

  <!-- Logotipo -->
  <div style="display: flex; flex-direction: column; align-items: center;">
  <div class="logo-icon">M</div>
  <div class="logo-text">MONITORA</div>
</div>
  <!-- Caixa de passos -->
  <div id="stepBox">
    <h1 id="stepText">Clique em "Iniciar" para começar</h1>
    <button id="nextBtn" onclick="nextStep()">Iniciar</button>
    <button onclick="resetSteps()">RESET</button>
    <div class="timer">
      ⏱️ Tempo total: <span id="totalTime">00:00</span><br/>
      ⌛ Tempo da tarefa: <span id="taskTime">00:00</span>
    </div>
  </div>

  <!-- Áudio -->
  <audio id="stepSound" src="https://www.soundjay.com/buttons/sounds/button-10.mp3" preload="auto"></audio>

  <script>
    
  const steps = [
    "1. Captura o chamado",
    "2. Acionamento",
    "3. Print do Zabbix no grupo do TEAMS para o analista acionado",
    "4. Pegar o template do Telegram e enviar no grupo do cliente do WhatsApp",
    "5. Apontamento de horas",
    "6. Delegar o chamado para o analista acionado",
    "7. Incluir informações no alerta do Zabbix"
  ];

  let currentStep = -1;
  let startTime, taskStartTime;
  let totalInterval, taskInterval;
  let taskDurations = [];

  const stepText = document.getElementById("stepText");
  const nextBtn = document.getElementById("nextBtn");
  const totalTimeEl = document.getElementById("totalTime");
  const taskTimeEl = document.getElementById("taskTime");
  const stepSound = document.getElementById("stepSound");

  function formatTime(ms) {
    const sec = Math.floor(ms / 1000);
    const min = Math.floor(sec / 60);
    const remainingSec = sec % 60;
    return `${String(min).padStart(2, '0')}:${String(remainingSec).padStart(2, '0')}`;
  }

  function updateTimers() {
    const now = Date.now();
    if (startTime) {
      totalTimeEl.innerText = formatTime(now - startTime);
    }
    if (taskStartTime) {
      taskTimeEl.innerText = formatTime(now - taskStartTime);
    }
  }

  function startTimers() {
    clearInterval(totalInterval);
    totalInterval = setInterval(updateTimers, 1000);
  }

  function startTaskTimer() {
    clearInterval(taskInterval);
    taskStartTime = Date.now();
    taskInterval = setInterval(updateTimers, 1000);
  }

  function nextStep() {
    // Salva tempo da tarefa anterior
    if (currentStep >= 0 && currentStep < steps.length) {
      const duration = Date.now() - taskStartTime;
      taskDurations[currentStep] = formatTime(duration);
    }

    currentStep++;

    if (currentStep === 0) {
      startTime = Date.now();
      startTimers();
      nextBtn.innerText = "Próximo";
    }

    if (currentStep < steps.length) {
      stepText.style.opacity = 0;
      setTimeout(() => {
        stepText.innerText = steps[currentStep];
        stepText.style.opacity = 1;
      }, 300);

      stepSound.play();
      startTaskTimer();
    } else {
      clearInterval(taskInterval);
      clearInterval(totalInterval);
      showFinalSummary();
      nextBtn.disabled = true;
    }
  }

  function showFinalSummary() {
    let summary = "✅ Processo Finalizado!\n\n⏱️ Tempos de execução:\n";
    taskDurations.forEach((time, index) => {
      summary += `${index + 1} - ${time}\n`;
    });
    stepText.innerText = summary;
  }

  function resetSteps() {
    currentStep = -1;
    stepText.innerText = 'Clique em "Iniciar" para começar';
    nextBtn.innerText = "Iniciar";
    nextBtn.disabled = false;
    totalTimeEl.innerText = "00:00";
    taskTimeEl.innerText = "00:00";
    taskDurations = [];
    clearInterval(totalInterval);
    clearInterval(taskInterval);
  }
</script>
</body>
</html>
